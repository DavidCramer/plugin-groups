!function(){"use strict";var e=window.wp.i18n;const n={init(){jQuery(document).on("wp-plugin-install-success",((e,n)=>{if(n){const e=document.querySelector(`[data-plugin=${n.slug}]`),t=document.createElement("div");t.innerText="",e.parentNode.appendChild(t),e.disabled="",e.addEventListener("change",(()=>this.addToGroup(e.value,n.activateUrl,e,t)))}}))},addSelector(n){const t=document.createElement("select");t.name="group_id",plgData.forEach((e=>{const n=document.createElement("option");n.value=e.id,n.innerText=e.name,t.appendChild(n)}));const o=document.createElement("optgroup"),a=document.createElement("option");return o.label="---------",a.value="__new",a.innerText=(0,e.__)("New group","plugin-groups"),o.appendChild(a),t.appendChild(o),t},addToGroup(n,t,o,a){a.innerText="";const d={id:n,url:t};fetch(plgData.url,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":plgData.nonce},body:JSON.stringify(d)}).then((e=>e.json())).then((n=>{a.innerText=(0,e.__)("Plugin added.","plugin-groups"),o.value="_select"}))}};window.addEventListener("load",(()=>n.init()))}();