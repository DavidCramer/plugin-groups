!function(){"use strict";var e={};function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n=window.wp.element,o=window.React,r=e.n(o),a=window.ReactDOM,i=e.n(a),l=window.wp.i18n;function s(e){const{loadURL:t,setConfig:o,restNonce:r,navTab:a}=e;return(0,n.createElement)("select",{onChange:e=>{(e=>{const{id:t,loadURL:n,setConfig:o,restNonce:r,navTab:a}=e;window.localStorage.getItem("_plgUnsaved")&&!confirm((0,l.__)("Changes that you made may not be saved.","plugin-groups"))||(a(0),fetch(n+"?siteID="+t,{method:"GET",headers:{"X-WP-Nonce":r}}).then((e=>e.json())).then((e=>{o(e),window.localStorage.removeItem("_plgUnsaved"),a(1)})))})({id:e.target.value,loadURL:t,setConfig:o,restNonce:r,navTab:a})}},e.sites.map((t=>{const o=parseInt(t.blog_id);return(0,n.createElement)("option",{value:o,selected:o===e.siteID},`${t.domain}${t.path}`)})))}function c(e){const{navTab:t,tab:o,pluginName:r,version:a,handleSave:i,handleExport:c,handleImport:u,saving:d,saved:p,sites:g}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("header",{className:"ui-header"},(0,n.createElement)("span",null,(0,n.createElement)("h2",null,r)),(0,n.createElement)("span",{className:"ui-header-version"},a),0===o&&(0,n.createElement)("span",{className:"ui-header-multisite"},(0,l.__)("Loading site config.","plugin-groups")),0!==o&&(0,n.createElement)(n.Fragment,null,g&&(0,n.createElement)("span",{className:"ui-header-multisite"},(0,n.createElement)(s,e)),(0,n.createElement)("span",{className:p?"ui-saved-notice active":"ui-saved-notice"},(0,n.createElement)("span",{className:"ui-saved-notice-panel"},(0,l.__)("Settings Saved","plugin-groups"))),(0,n.createElement)("button",{className:"button button-primary",type:"button",onClick:i,disabled:d},(0,l.__)("Save Settings","plugin-groups")),(0,n.createElement)("button",{className:"button button-primary",type:"button",onClick:c},"Export"),(0,n.createElement)("label",{className:"button button-primary",type:"button"},"Import",(0,n.createElement)("input",{className:"importer-input",type:"file",onChange:u})))),0!==o&&(0,n.createElement)("ul",{className:"ui-navigation"},(0,n.createElement)("li",{className:1===o?"ui-navigation-link active":"ui-navigation-link",onClick:()=>t(1)},(0,l.__)("Groups Management","plugin-groups")),g&&e.mainSite===e.siteID&&(0,n.createElement)("li",{className:3===o?"ui-navigation-link active":"ui-navigation-link",onClick:()=>t(3)},(0,l.__)("Multisite","plugin-groups")),(0,n.createElement)("li",{className:2===o?"ui-navigation-link active":"ui-navigation-link",onClick:()=>t(2)},(0,l.__)("Settings","plugin-groups"))))}function u(e){const{name:t,id:o,changeName:r,editGroup:a,temp:i,focus:l}=e;return(0,n.createElement)("input",{className:"ui-body-edit-title",autoFocus:l,onFocus:e=>{e.target.select()},value:t,onInput:e=>{r(o,e.target.value)},onBlur:e=>{e.target.value.length?e.target.value.length&&"/"!==e.target.value&&a(o):e.target.focus()},type:"text","data-edit":o})}function d(e){const{title:t,collapse:o,height:a}=e,[i,l]=r().useState(o||"open"),s="open"===i?"dashicons-arrow-up-alt2":"dashicons-arrow-down-alt2",c=o?"collapsible":"";return(0,n.createElement)("div",{className:"ui-panel"},(0,n.createElement)("div",{className:"ui-panel-header "+c,onClick:()=>{o&&l("open"===i?"closed":"open")}},(0,n.createElement)("h3",{className:"ui-panel-header-title"},t),o&&(0,n.createElement)("span",{className:"dashicons "+s})),"open"===i&&(0,n.createElement)("div",{className:"ui-panel-body "+i},e.children))}function p(e){const{name:t,version:o,id:r,callback:a,checked:i,bold:l,subname:s,className:c,disabled:u}=e,d=c||"";return(0,n.createElement)("div",{key:r,className:"ui-body-sidebar-list-item "+d},(0,n.createElement)("label",null,(0,n.createElement)("input",{type:"checkbox",checked:i,value:r,onChange:a,disabled:u}),(0,n.createElement)("span",null,l?(0,n.createElement)("strong",null,t):(0,n.createElement)("span",null,t),s&&(0,n.createElement)("div",null,s))),(0,n.createElement)("span",{className:"children"},o&&(0,n.createElement)("span",{className:"version"},o),e.children))}function g(e){const{group:t,plugins:o,removePlugins:a,removePlugin:i}=e,[s,c]=r().useState([]),u=0<t.plugins.length,g=e=>{const t=[...s];e.target.checked?t.push(e.target.value):t.splice(t.indexOf(e.target.value),1),c(t)};return(0,n.createElement)(d,{title:(0,l.__)("Grouped plugins","plugin-groups")},u&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(p,{name:(0,l.__)("Select All","plugin-groups"),className:"list-control",callback:e=>{e.target.checked?c(t.plugins):c([])},checked:s.length===t.plugins.length},(0,n.createElement)("button",{disabled:!s.length,type:"button",className:"button",onClick:e=>{a(t.id,[...s])}},(0,l.__)("Remove selected","plugin-groups"))),(0,n.createElement)("div",{className:"ui-body-edit-plugins"},t.plugins.map(((e,r)=>{const a=o[e]?o[e]:{Name:e.split("/")[0],Version:(0,l.__)("Missing","plugin-groups"),missing:!0};return(0,n.createElement)(p,{name:a.Name,version:a.Version,checked:-1<s.indexOf(e),id:e,key:e,callback:g},(0,n.createElement)("label",{className:"dashicons dashicons-no-alt",onClick:()=>i(t.id,e)}))})))),!u&&(0,n.createElement)("div",{className:"ui-body-edit-plugins"},(0,n.createElement)("span",{className:"ui-body-edit-plugins-item"},(0,l.__)("No plugins selected","plugin-groups"))))}function h(e){let{group:t,removeKeyword:o}=e;const{id:r,keywords:a}=t;return a.map((e=>(0,n.createElement)("span",{className:"ui-keyword"},e,(0,n.createElement)("label",{className:"dashicons dashicons-no-alt",onClick:()=>o(r,e)}))))}function m(e){const{group:t,addKeyword:o,removeKeyword:r}=e;return(0,n.createElement)("div",{className:"ui-body-sidebar-list-item-section"},(0,n.createElement)(d,{title:(0,l.__)("Keywords","plugin-groups")},(0,n.createElement)(h,{group:t,removeKeyword:r,addKeyword:o}),(0,n.createElement)("hr",null),(0,n.createElement)("input",{className:"regular-text keywords-input",type:"text",placeholder:(0,l.__)("Add keyword"),"data-keywords":!0,onKeyDown:e=>{const n=e.target.value.trim();"Enter"!==e.key&&","!==e.key||(e.preventDefault(),e.stopPropagation(),e.target.dataset.keywords&&0<n.length&&(o(t.id,n),e.target.value=""))}})))}function f(e){const{group:t}=e;return(0,n.createElement)("div",{className:"ui-body-sidebar-list-item-edit"},(0,n.createElement)(g,e),(0,n.createElement)(m,e))}function v(e){const{selectGroup:o,openGroup:r,group:a,changeName:i,editGroup:l,index:s}=e,{temp:c,name:d,id:p,plugins:g,selected:h,open:m,edit:v,focus:b}=a,E=h?"active":"";return(0,n.createElement)("div",{key:p,"data-id":p},(0,n.createElement)("div",{className:"plugin-group ui-body-sidebar-list-item "+E},!v&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,n.createElement)("span",{className:"sort-handle dashicons dashicons-menu"}),(0,n.createElement)("input",{type:"checkbox",checked:h,onClick:e=>o(p)}),(0,n.createElement)("span",{className:"ui-body-sidebar-list-item-title",onClick:e=>r(p)},d)),(0,n.createElement)("span",{className:"ui-body-sidebar-list-item-icons"},(0,n.createElement)("span",{className:"dashicons dashicons-edit",onClick:()=>l(p)}),g.length)),v&&(0,n.createElement)(u,{temp:c,name:d,id:p,changeName:i,editGroup:l,focus:b})),!c&&m&&(0,n.createElement)(f,t({group:a},e)))}function b(e){const{groups:o,getList:r,edit:a}=e;return r().map(((r,i)=>{const l=o[r];return(0,n.createElement)(v,t({key:r,index:i,group:l,editing:r===a},e))}))}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var D=k(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),C=k(/Edge/i),x=k(/firefox/i),T=k(/safari/i)&&!k(/chrome/i)&&!k(/android/i),O=k(/iP(ad|od|hone)/i),P=k(/chrome/i)&&k(/android/i),I={capture:!1,passive:!1};function A(e,t,n){e.addEventListener(t,n,!D&&I)}function M(e,t,n){e.removeEventListener(t,n,!D&&I)}function R(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function X(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function F(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&R(e,t):R(e,t))||o&&e===n)return e;if(e===n)break}while(e=X(e))}return null}var j,L=/\s+/g;function Y(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(L," ")}}function G(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function B(e,t){var n="";if("string"==typeof e)n=e;else do{var o=G(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function U(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,a=o.length;if(n)for(;r<a;r++)n(o[r],r);return o}return[]}function H(){return document.scrollingElement||document.documentElement}function W(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var a,i,l,s,c,u,d;if(e!==window&&e.parentNode&&e!==H()?(i=(a=e.getBoundingClientRect()).top,l=a.left,s=a.bottom,c=a.right,u=a.height,d=a.width):(i=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!D))do{if(r&&r.getBoundingClientRect&&("none"!==G(r,"transform")||n&&"static"!==G(r,"position"))){var p=r.getBoundingClientRect();i-=p.top+parseInt(G(r,"border-top-width")),l-=p.left+parseInt(G(r,"border-left-width")),s=i+a.height,c=l+a.width;break}}while(r=r.parentNode);if(o&&e!==window){var g=B(r||e),h=g&&g.a,m=g&&g.d;g&&(s=(i/=m)+(u/=m),c=(l/=h)+(d/=h))}return{top:i,left:l,bottom:s,right:c,width:d,height:u}}}function z(e,t,n){for(var o=J(e,!0),r=W(e)[t];o;){var a=W(o)[n];if(!("top"===n||"left"===n?r>=a:r<=a))return o;if(o===H())break;o=J(o,!1)}return!1}function K(e,t,n,o){for(var r=0,a=0,i=e.children;a<i.length;){if("none"!==i[a].style.display&&i[a]!==Qe.ghost&&(o||i[a]!==Qe.dragged)&&F(i[a],n.draggable,e,!1)){if(r===t)return i[a];r++}a++}return null}function V(e,t){for(var n=e.lastElementChild;n&&(n===Qe.ghost||"none"===G(n,"display")||t&&!R(n,t));)n=n.previousElementSibling;return n||null}function $(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Qe.clone||t&&!R(e,t)||n++;return n}function q(e){var t=0,n=0,o=H();if(e)do{var r=B(e),a=r.a,i=r.d;t+=e.scrollLeft*a,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function J(e,t){if(!e||!e.getBoundingClientRect)return H();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=G(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return H();if(o||t)return n;o=!0}}}while(n=n.parentNode);return H()}function Z(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Q(e,t){return function(){if(!j){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),j=setTimeout((function(){j=void 0}),t)}}}function ee(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function te(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ne="Sortable"+(new Date).getTime();var oe=[],re={initializeByDefault:!0},ae={mount:function(e){for(var t in re)re.hasOwnProperty(t)&&!(t in e)&&(e[t]=re[t]);oe.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),oe.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";oe.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](y({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](y({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in oe.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var a=new o(e,t,e.options);a.sortable=e,a.options=e.options,e[r]=a,N(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);void 0!==a&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return oe.forEach((function(o){"function"==typeof o.eventProperties&&N(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return oe.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};var ie=["evt"],le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=S(n,ie);ae.pluginEvent.bind(Qe)(e,t,y({dragEl:ce,parentEl:ue,ghostEl:de,rootEl:pe,nextEl:ge,lastDownEl:he,cloneEl:me,cloneHidden:fe,dragStarted:Te,putSortable:_e,activeSortable:Qe.active,originalEvent:o,oldIndex:ve,oldDraggableIndex:Ee,newIndex:be,newDraggableIndex:ye,hideGhostForTarget:$e,unhideGhostForTarget:qe,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(e){se({sortable:t,name:e,originalEvent:o})}},r))};function se(e){!function(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,a=e.cloneEl,i=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,g=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[ne]){var m,f=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||D||C?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=i||n,m.from=l||n,m.item=r||n,m.clone=a,m.oldIndex=s,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=g?g.lastPutMode:void 0;var b=y(y({},h),ae.getEventProperties(o,t));for(var E in b)m[E]=b[E];n&&n.dispatchEvent(m),f[v]&&f[v].call(t,m)}}(y({putSortable:_e,cloneEl:me,targetEl:ce,rootEl:pe,oldIndex:ve,oldDraggableIndex:Ee,newIndex:be,newDraggableIndex:ye},e))}var ce,ue,de,pe,ge,he,me,fe,ve,be,Ee,ye,we,_e,Ne,Se,ke,De,Ce,xe,Te,Oe,Pe,Ie,Ae,Me=!1,Re=!1,Xe=[],Fe=!1,je=!1,Le=[],Ye=!1,Ge=[],Be="undefined"!=typeof document,Ue=O,He=C||D?"cssFloat":"float",We=Be&&!P&&!O&&"draggable"in document.createElement("div"),ze=function(){if(Be){if(D)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ke=function(e,t){var n=G(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=K(e,0,t),a=K(e,1,t),i=r&&G(r),l=a&&G(a),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+W(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+W(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i.float&&"none"!==i.float){var u="left"===i.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return r&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=o&&"none"===n[He]||a&&"none"===n[He]&&s+c>o)?"vertical":"horizontal"},Ve=function(e){function t(e,n){return function(o,r,a,i){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,a,i),n)(o,r,a,i);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==w(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},$e=function(){!ze&&de&&G(de,"display","none")},qe=function(){!ze&&de&&G(de,"display","")};Be&&!P&&document.addEventListener("click",(function(e){if(Re)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Re=!1,!1}),!0);var Je=function(e){if(ce){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,a=e.clientY,Xe.some((function(e){var t=e[ne].options.emptyInsertThreshold;if(t&&!V(e)){var n=W(e),o=r>=n.left-t&&r<=n.right+t,l=a>=n.top-t&&a<=n.bottom+t;return o&&l?i=e:void 0}})),i);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[ne]._onDragOver(n)}}var r,a,i},Ze=function(e){ce&&ce.parentNode[ne]._isOutsideThisEl(e.target)};function Qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=N({},t),e[ne]=this;var n,o,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ke(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Qe.supportPointer&&"PointerEvent"in window&&!T,emptyInsertThreshold:5};for(var a in ae.initializePlugins(this,e,r),r)!(a in t)&&(t[a]=r[a]);for(var i in Ve(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&We,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?A(e,"pointerdown",this._onTapStart):(A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Xe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),N(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==G(e,"display")&&e!==Qe.ghost){o.push({target:e,rect:W(e)});var t=y({},o[o.length-1].rect);if(e.thisAnimationDuration){var n=B(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(o,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var r=!1,a=0;o.forEach((function(e){var n=0,o=e.target,i=o.fromRect,l=W(o),s=o.prevFromRect,c=o.prevToRect,u=e.rect,d=B(o,!0);d&&(l.top-=d.f,l.left-=d.e),o.toRect=l,o.thisAnimationDuration&&Z(s,l)&&!Z(i,l)&&(u.top-l.top)/(u.left-l.left)==(i.top-l.top)/(i.left-l.left)&&(n=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(u,s,c,t.options)),Z(l,i)||(o.prevFromRect=i,o.prevToRect=l,n||(n=t.options.animation),t.animate(o,u,l,n)),n&&(r=!0,a=Math.max(a,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),n),o.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof e&&e()}),a):"function"==typeof e&&e(),o=[]},animate:function(e,t,n,o){if(o){G(e,"transition",""),G(e,"transform","");var r=B(this.el),a=r&&r.a,i=r&&r.d,l=(t.left-n.left)/(a||1),s=(t.top-n.top)/(i||1);e.animatingX=!!l,e.animatingY=!!s,G(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),G(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),G(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){G(e,"transition",""),G(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}))}function et(e,t,n,o,r,a,i,l){var s,c,u=e[ne],d=u.options.onMove;return!window.CustomEvent||D||C?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=a||W(t),s.willInsertAfter=l,s.originalEvent=i,e.dispatchEvent(s),d&&(c=d.call(u,s,i)),c}function tt(e){e.draggable=!1}function nt(){Ye=!1}function ot(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function rt(e){return setTimeout(e,0)}function at(e){return clearTimeout(e)}Qe.prototype={constructor:Qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Oe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ce):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){Ge.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Ge.push(o)}}(n),!ce&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!T||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=F(l,o.draggable,n,!1))&&l.animated||he===l)){if(ve=$(l),Ee=$(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return se({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),le("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=F(s,o.trim(),n,!1))return se({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),le("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!F(s,o.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var o,r=this,a=r.el,i=r.options,l=a.ownerDocument;if(n&&!ce&&n.parentNode===a){var s=W(n);if(pe=a,ue=(ce=n).parentNode,ge=ce.nextSibling,he=n,we=i.group,Qe.dragged=ce,Ne={target:ce,clientX:(t||e).clientX,clientY:(t||e).clientY},Ce=Ne.clientX-s.left,xe=Ne.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ce.style["will-change"]="all",o=function(){le("delayEnded",r,{evt:e}),Qe.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!x&&r.nativeDraggable&&(ce.draggable=!0),r._triggerDragStart(e,t),se({sortable:r,name:"choose",originalEvent:e}),Y(ce,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){U(ce,e.trim(),tt)})),A(l,"dragover",Je),A(l,"mousemove",Je),A(l,"touchmove",Je),A(l,"mouseup",r._onDrop),A(l,"touchend",r._onDrop),A(l,"touchcancel",r._onDrop),x&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ce.draggable=!0),le("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(C||D))o();else{if(Qe.eventCanceled)return void this._onDrop();A(l,"mouseup",r._disableDelayedDrag),A(l,"touchend",r._disableDelayedDrag),A(l,"touchcancel",r._disableDelayedDrag),A(l,"mousemove",r._delayedDragTouchMoveHandler),A(l,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&A(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ce&&tt(ce),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;M(e,"mouseup",this._disableDelayedDrag),M(e,"touchend",this._disableDelayedDrag),M(e,"touchcancel",this._disableDelayedDrag),M(e,"mousemove",this._delayedDragTouchMoveHandler),M(e,"touchmove",this._delayedDragTouchMoveHandler),M(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):A(document,t?"touchmove":"mousemove",this._onTouchMove):(A(ce,"dragend",this),A(pe,"dragstart",this._onDragStart));try{document.selection?rt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Me=!1,pe&&ce){le("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",Ze);var n=this.options;!e&&Y(ce,n.dragClass,!1),Y(ce,n.ghostClass,!0),Qe.active=this,e&&this._appendGhost(),se({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Se){this._lastX=Se.clientX,this._lastY=Se.clientY,$e();for(var e=document.elementFromPoint(Se.clientX,Se.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Se.clientX,Se.clientY))!==t;)t=e;if(ce.parentNode[ne]._isOutsideThisEl(e),t)do{if(t[ne]&&t[ne]._onDragOver({clientX:Se.clientX,clientY:Se.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);qe()}},_onTouchMove:function(e){if(Ne){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=de&&B(de,!0),i=de&&a&&a.a,l=de&&a&&a.d,s=Ue&&Ae&&q(Ae),c=(r.clientX-Ne.clientX+o.x)/(i||1)+(s?s[0]-Le[0]:0)/(i||1),u=(r.clientY-Ne.clientY+o.y)/(l||1)+(s?s[1]-Le[1]:0)/(l||1);if(!Qe.active&&!Me){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(de){a?(a.e+=c-(ke||0),a.f+=u-(De||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");G(de,"webkitTransform",d),G(de,"mozTransform",d),G(de,"msTransform",d),G(de,"transform",d),ke=c,De=u,Se=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!de){var e=this.options.fallbackOnBody?document.body:pe,t=W(ce,!0,Ue,!0,e),n=this.options;if(Ue){for(Ae=e;"static"===G(Ae,"position")&&"none"===G(Ae,"transform")&&Ae!==document;)Ae=Ae.parentNode;Ae!==document.body&&Ae!==document.documentElement?(Ae===document&&(Ae=H()),t.top+=Ae.scrollTop,t.left+=Ae.scrollLeft):Ae=H(),Le=q(Ae)}Y(de=ce.cloneNode(!0),n.ghostClass,!1),Y(de,n.fallbackClass,!0),Y(de,n.dragClass,!0),G(de,"transition",""),G(de,"transform",""),G(de,"box-sizing","border-box"),G(de,"margin",0),G(de,"top",t.top),G(de,"left",t.left),G(de,"width",t.width),G(de,"height",t.height),G(de,"opacity","0.8"),G(de,"position",Ue?"absolute":"fixed"),G(de,"zIndex","100000"),G(de,"pointerEvents","none"),Qe.ghost=de,e.appendChild(de),G(de,"transform-origin",Ce/parseInt(de.style.width)*100+"% "+xe/parseInt(de.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;le("dragStart",this,{evt:e}),Qe.eventCanceled?this._onDrop():(le("setupClone",this),Qe.eventCanceled||((me=te(ce)).removeAttribute("id"),me.draggable=!1,me.style["will-change"]="",this._hideClone(),Y(me,this.options.chosenClass,!1),Qe.clone=me),n.cloneId=rt((function(){le("clone",n),Qe.eventCanceled||(n.options.removeCloneOnHide||pe.insertBefore(me,ce),n._hideClone(),se({sortable:n,name:"clone"}))})),!t&&Y(ce,r.dragClass,!0),t?(Re=!0,n._loopId=setInterval(n._emulateDragOver,50)):(M(document,"mouseup",n._onDrop),M(document,"touchend",n._onDrop),M(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,ce)),A(document,"drop",n),G(ce,"transform","translateZ(0)")),Me=!0,n._dragStartId=rt(n._dragStarted.bind(n,t,e)),A(document,"selectstart",n),Te=!0,T&&G(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,a=this.el,i=e.target,l=this.options,s=l.group,c=Qe.active,u=we===s,d=l.sort,p=_e||c,g=this,h=!1;if(!Ye){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=F(i,l.draggable,a,!0),O("dragOver"),Qe.eventCanceled)return h;if(ce.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||g._ignoreWhileAnimating===i)return I(!1);if(Re=!1,c&&!l.disabled&&(u?d||(o=ue!==pe):_e===this||(this.lastPutMode=we.checkPull(this,c,ce,e))&&s.checkPut(this,c,ce,e))){if(r="vertical"===this._getDirection(e,i),t=W(ce),O("dragOverValid"),Qe.eventCanceled)return h;if(o)return ue=pe,P(),this._hideClone(),O("revert"),Qe.eventCanceled||(ge?pe.insertBefore(ce,ge):pe.appendChild(ce)),I(!0);var m=V(a,l.draggable);if(!m||function(e,t,n){var o=W(V(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,r,this)&&!m.animated){if(m===ce)return I(!1);if(m&&a===e.target&&(i=m),i&&(n=W(i)),!1!==et(pe,a,ce,t,i,n,e,!!i))return P(),m&&m.nextSibling?a.insertBefore(ce,m.nextSibling):a.appendChild(ce),ue=a,A(),I(!0)}else if(m&&function(e,t,n){var o=W(K(n.el,0,n.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}(e,r,this)){var f=K(a,0,l,!0);if(f===ce)return I(!1);if(n=W(i=f),!1!==et(pe,a,ce,t,i,n,e,!1))return P(),a.insertBefore(ce,f),ue=a,A(),I(!0)}else if(i.parentNode===a){n=W(i);var v,b,E,w=ce.parentNode!==a,_=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===i||r===l||o+a/2===i+s/2}(ce.animated&&ce.toRect||t,i.animated&&i.toRect||n,r),N=r?"top":"left",S=z(i,"top","top")||z(ce,"top","top"),k=S?S.scrollTop:void 0;if(Oe!==i&&(b=n[N],Fe=!1,je=!_&&l.invertSwap||w),v=function(e,t,n,o,r,a,i,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,p=!1;if(!i)if(l&&Ie<c*r){if(!Fe&&(1===Pe?s>u+c*a/2:s<d-c*a/2)&&(Fe=!0),Fe)p=!0;else if(1===Pe?s<u+Ie:s>d-Ie)return-Pe}else if(s>u+c*(1-r)/2&&s<d-c*(1-r)/2)return function(e){return $(ce)<$(e)?1:-1}(t);return(p=p||i)&&(s<u+c*a/2||s>d-c*a/2)?s>u+c/2?1:-1:0}(e,i,n,r,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,je,Oe===i),0!==v){var D=$(ce);do{D-=v,E=ue.children[D]}while(E&&("none"===G(E,"display")||E===de))}if(0===v||E===i)return I(!1);Oe=i,Pe=v;var C=i.nextElementSibling,x=!1,T=et(pe,a,ce,t,i,n,e,x=1===v);if(!1!==T)return 1!==T&&-1!==T||(x=1===T),Ye=!0,setTimeout(nt,30),P(),x&&!C?a.appendChild(ce):i.parentNode.insertBefore(ce,x?C:i),S&&ee(S,0,k-S.scrollTop),ue=ce.parentNode,void 0===b||je||(Ie=Math.abs(b-W(i)[N])),A(),I(!0)}if(a.contains(ce))return I(!1)}return!1}function O(l,s){le(l,g,y({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:i,completed:I,onMove:function(n,o){return et(pe,a,ce,t,n,W(n),e,o)},changed:A},s))}function P(){O("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function I(t){return O("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(g),g!==p&&(Y(ce,_e?_e.options.ghostClass:c.options.ghostClass,!1),Y(ce,l.ghostClass,!0)),_e!==g&&g!==Qe.active?_e=g:g===Qe.active&&_e&&(_e=null),p===g&&(g._ignoreWhileAnimating=i),g.animateAll((function(){O("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===ce&&!ce.animated||i===a&&!i.animated)&&(Oe=null),l.dragoverBubble||e.rootEl||i===document||(ce.parentNode[ne]._isOutsideThisEl(e.target),!t&&Je(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function A(){be=$(ce),ye=$(ce,l.draggable),se({sortable:g,name:"change",toEl:a,newIndex:be,newDraggableIndex:ye,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){M(document,"mousemove",this._onTouchMove),M(document,"touchmove",this._onTouchMove),M(document,"pointermove",this._onTouchMove),M(document,"dragover",Je),M(document,"mousemove",Je),M(document,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;M(e,"mouseup",this._onDrop),M(e,"touchend",this._onDrop),M(e,"pointerup",this._onDrop),M(e,"touchcancel",this._onDrop),M(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;be=$(ce),ye=$(ce,n.draggable),le("drop",this,{evt:e}),ue=ce&&ce.parentNode,be=$(ce),ye=$(ce,n.draggable),Qe.eventCanceled||(Me=!1,je=!1,Fe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),at(this.cloneId),at(this._dragStartId),this.nativeDraggable&&(M(document,"drop",this),M(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),T&&G(document.body,"user-select",""),G(ce,"transform",""),e&&(Te&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),de&&de.parentNode&&de.parentNode.removeChild(de),(pe===ue||_e&&"clone"!==_e.lastPutMode)&&me&&me.parentNode&&me.parentNode.removeChild(me),ce&&(this.nativeDraggable&&M(ce,"dragend",this),tt(ce),ce.style["will-change"]="",Te&&!Me&&Y(ce,_e?_e.options.ghostClass:this.options.ghostClass,!1),Y(ce,this.options.chosenClass,!1),se({sortable:this,name:"unchoose",toEl:ue,newIndex:null,newDraggableIndex:null,originalEvent:e}),pe!==ue?(be>=0&&(se({rootEl:ue,name:"add",toEl:ue,fromEl:pe,originalEvent:e}),se({sortable:this,name:"remove",toEl:ue,originalEvent:e}),se({rootEl:ue,name:"sort",toEl:ue,fromEl:pe,originalEvent:e}),se({sortable:this,name:"sort",toEl:ue,originalEvent:e})),_e&&_e.save()):be!==ve&&be>=0&&(se({sortable:this,name:"update",toEl:ue,originalEvent:e}),se({sortable:this,name:"sort",toEl:ue,originalEvent:e})),Qe.active&&(null!=be&&-1!==be||(be=ve,ye=Ee),se({sortable:this,name:"end",toEl:ue,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){le("nulling",this),pe=ce=ue=de=ge=me=he=fe=Ne=Se=Te=be=ye=ve=Ee=Oe=Pe=_e=we=Qe.dragged=Qe.ghost=Qe.clone=Qe.active=null,Ge.forEach((function(e){e.checked=!0})),Ge.length=ke=De=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ce&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)F(e=n[o],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ot(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];F(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return F(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=ae.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Ve(n)},destroy:function(){le("destroy",this);var e=this.el;e[ne]=null,M(e,"mousedown",this._onTapStart),M(e,"touchstart",this._onTapStart),M(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(M(e,"dragover",this),M(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Xe.splice(Xe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!fe){if(le("hideClone",this),Qe.eventCanceled)return;G(me,"display","none"),this.options.removeCloneOnHide&&me.parentNode&&me.parentNode.removeChild(me),fe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(fe){if(le("showClone",this),Qe.eventCanceled)return;ce.parentNode!=pe||this.options.group.revertClone?ge?pe.insertBefore(me,ge):pe.appendChild(me):pe.insertBefore(me,ce),this.options.group.revertClone&&this.animate(ce,me),G(me,"display",""),fe=!1}}else this._hideClone()}},Be&&A(document,"touchmove",(function(e){(Qe.active||Me)&&e.cancelable&&e.preventDefault()})),Qe.utils={on:A,off:M,css:G,find:U,is:function(e,t){return!!F(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Q,closest:F,toggleClass:Y,clone:te,index:$,nextTick:rt,cancelNextTick:at,detectDirection:Ke,getChild:K},Qe.get=function(e){return e[ne]},Qe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Qe.utils=y(y({},Qe.utils),e.utils)),ae.mount(e)}))},Qe.create=function(e,t){return new Qe(e,t)},Qe.version="1.15.0";var it,lt,st,ct,ut,dt,pt=[],gt=!1;function ht(){pt.forEach((function(e){clearInterval(e.pid)})),pt=[]}function mt(){clearInterval(dt)}var ft=Q((function(e,t,n,o){if(t.scroll){var r,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=H(),u=!1;lt!==n&&(lt=n,ht(),it=t.scroll,r=t.scrollFn,!0===it&&(it=J(n,!0)));var d=0,p=it;do{var g=p,h=W(g),m=h.top,f=h.bottom,v=h.left,b=h.right,E=h.width,y=h.height,w=void 0,_=void 0,N=g.scrollWidth,S=g.scrollHeight,k=G(g),D=g.scrollLeft,C=g.scrollTop;g===c?(w=E<N&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),_=y<S&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(w=E<N&&("auto"===k.overflowX||"scroll"===k.overflowX),_=y<S&&("auto"===k.overflowY||"scroll"===k.overflowY));var x=w&&(Math.abs(b-a)<=l&&D+E<N)-(Math.abs(v-a)<=l&&!!D),T=_&&(Math.abs(f-i)<=l&&C+y<S)-(Math.abs(m-i)<=l&&!!C);if(!pt[d])for(var O=0;O<=d;O++)pt[O]||(pt[O]={});pt[d].vx==x&&pt[d].vy==T&&pt[d].el===g||(pt[d].el=g,pt[d].vx=x,pt[d].vy=T,clearInterval(pt[d].pid),0==x&&0==T||(u=!0,pt[d].pid=setInterval(function(){o&&0===this.layer&&Qe.active._onTouchMove(ut);var t=pt[this.layer].vy?pt[this.layer].vy*s:0,n=pt[this.layer].vx?pt[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Qe.dragged.parentNode[ne],n,t,e,ut,pt[this.layer].el)||ee(pt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=J(p,!1)));gt=u}}),30),vt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function bt(){}function Et(){}bt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=K(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:vt},N(bt,{pluginName:"revertOnSpill"}),Et.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:vt},N(Et,{pluginName:"removeOnSpill"}),Qe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):t.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):(M(document,"pointermove",this._handleFallbackAutoScroll),M(document,"touchmove",this._handleFallbackAutoScroll),M(document,"mousemove",this._handleFallbackAutoScroll)),mt(),ht(),clearTimeout(j),j=void 0},nulling:function(){ut=lt=it=gt=dt=st=ct=null,pt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,r);if(ut=e,t||this.options.forceAutoScrollFallback||C||D||T){ft(e,this.options,a,t);var i=J(a,!0);!gt||dt&&o===st&&r===ct||(dt&&mt(),dt=setInterval((function(){var a=J(document.elementFromPoint(o,r),!0);a!==i&&(i=a,ht()),ft(e,n.options,a,t)}),10),st=o,ct=r)}else{if(!this.options.bubbleScroll||J(a,!0)===H())return void ht();ft(e,this.options,J(a,!1),!1)}}},N(e,{pluginName:"scroll",initializeByDefault:!0})}),Qe.mount(Et,bt);var yt=Qe;function wt(e){const{getList:t,createGroup:r,deleteGroups:a,selectGroups:i,getSelected:s,setOrder:c}=e,u=s().length===Object.keys(e.groups).length;return 0!==t().length&&(0,o.useEffect)((()=>{const e={animation:150,ghostClass:"active-sort",handle:".sort-handle",direction:"vertical",onUpdate:function(){(()=>{const e=n.toArray();c(e)})()}},t=document.getElementById("plugin-groups-list"),n=yt.create(t,e)})),(0,n.createElement)("div",{className:"ui-body-sidebar wide"},(0,n.createElement)(d,{title:(0,l.__)("Groups")},(0,n.createElement)("div",{className:"ui-body-sidebar-list"},0!==t().length&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(p,{name:(0,l.__)("Select All"),bold:!0,callback:t=>{i(Object.keys(e.groups),t.target.checked)},checked:u,className:"list-control"},(0,n.createElement)("button",{disabled:!s().length,type:"button",className:"button",onClick:()=>{a(s(),!0)}},(0,n.createElement)("span",{className:"text"}," ",(0,l.__)("Delete selected","plugin-groups")," "),(0,n.createElement)("span",{className:"dashicons dashicons-trash"}))),(0,n.createElement)("div",{id:"plugin-groups-list"},(0,n.createElement)(b,e))),0===t().length&&(0,n.createElement)("div",{className:"description"},(0,n.createElement)("span",{className:"ui-body-edit-plugins-item"},(0,l.__)("No groups created","plugin-groups"))))),(0,n.createElement)("button",{type:"button",className:"button",onClick:()=>r("",!0)},(0,l.__)("Create new group","plugin-groups")))}function _t(e){const{plugins:t,addPlugins:o,groups:a}=e,[i,s]=r().useState({checkedAll:!1,search:"",ungrouped:!1,checked:[]}),c=Object.keys(t);let u=[];const g=e=>{s({...i,...e})},h=e=>{const n={checked:[]};e&&c.forEach((e=>{const o=t[e];f(o.Name)&&n.checked.push(e)})),n.checkedAll=n.checked.length,g(n)};for(const e in a)u=u.concat(a[e].plugins);const m=e=>{const t={...i},n=t.checked.indexOf(e.target.value);e.target.checked&&-1===n?t.checked.push(e.target.value):!e.target.checked&&-1<n&&t.checked.splice(n,1),t.checked.length!==t.checkedAll&&(t.checkedAll=0),t.checked.length===c.length?h(!0):g(t)},f=e=>!i.search||-1<e.toLowerCase().indexOf(i.search.toLowerCase()),v=i.checked.length&&(()=>{for(const t in e.groups)if(e.groups[t].selected)return!0;return!1})();return(0,n.createElement)("div",{className:"ui-body-sidebar"},(0,n.createElement)(d,{key:"plist-panel",title:(0,l.__)("Plugins","plugin-groups")},(0,n.createElement)("div",{style:{display:"flex"}},(0,n.createElement)("input",{className:"regular-text search",placeholder:(0,l.__)("Search",e.slug),type:"search",onInput:e=>{g({search:e.target.value})},value:i.search}),(0,n.createElement)("label",{style:{"white-space":"nowrap",padding:"12px 0 12px 12px"}},(0,n.createElement)("input",{type:"checkbox",checked:i.ungrouped,onChange:e=>{const t={...i};t.ungrouped=e.target.checked,g(t)}}),(0,n.createElement)("strong",null,(0,l.__)("Ungrouped","plugin-groups")))),(0,n.createElement)(p,{name:(0,l.__)("Select all","plugin-groups"),id:"all",key:"_master",callback:e=>h(e.target.checked),checked:i.checkedAll,bold:!0,className:"list-control"},(0,n.createElement)("button",{className:"button",type:"button",onClick:()=>{Object.keys(e.groups).forEach((t=>{e.groups[t].selected&&o(t,i.checked)})),h(!1)},disabled:!v},(0,n.createElement)("span",{className:"text"},(0,l.__)("Send to Selected Groups")),(0,n.createElement)("span",{className:"dashicons dashicons-arrow-right-alt2"}))),(0,n.createElement)("div",{key:"plist",className:"plugins-list"},(0,n.createElement)("div",{key:"plist-main",className:"ui-body-sidebar-list"},c.map(((e,o)=>{const r=t[e],a=f(r.Name),l=-1<i.checked.indexOf(e)&&f(r.Name);if(!i.ungrouped||-1===u.indexOf(e))return(0,n.createElement)(n.Fragment,null,a&&(0,n.createElement)(p,{key:e,name:r.Name,id:e,version:r.Version,checked:l,callback:m}))}))))))}function Nt(e){const{togglePreset:t,selectedPresets:o,presets:r,slug:a}=e;return(0,n.createElement)("div",{className:"ui-body-sidebar narrow"},(0,n.createElement)(d,{title:(0,l.__)("Presets",a)},r.map((e=>(0,n.createElement)(p,{key:e,name:e,id:e,checked:-1<o.indexOf(e),callback:()=>t(e)})))))}function St(e){const{presets:t,getList:o,params:r}=e,a=[...t];return r.showUngrouped&&a.push((0,l.__)("Ungrouped","plugin-groups")),(0,n.createElement)("div",null,(0,n.createElement)("select",null,a.map(((e,t)=>(0,n.createElement)("option",null,e," (",t+1,")")))))}function kt(e){const{presets:t,className:o,setParam:r,params:a,styleName:i}=e,s=a.navStyle&&o===a.navStyle?" selected":"",c=[...t];return a.showUngrouped&&c.push((0,l.__)("Ungrouped","plugin-groups")),(0,n.createElement)("div",{className:"plugin-groups nav-settings"+s,onClick:()=>{r("navStyle",o)}},(0,n.createElement)("label",null,i),"groups-dropdown"===o&&(0,n.createElement)(St,e),"groups-dropdown"!==o&&(0,n.createElement)("ul",{className:o},c.map(((e,t)=>{if(!(5<t&&"Ungrouped"!==e))return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("li",null,(0,n.createElement)("a",{className:0===t?"current":""},e,(0,n.createElement)("span",{className:"count"}," (",t+1,")"))))}))))}function Dt(e){const{params:o,setParam:r}=e;return(0,n.createElement)("div",{className:"ui-body"},(0,n.createElement)("div",{className:"ui-body-sidebar"},(0,n.createElement)(d,{title:"Settings"},(0,n.createElement)(p,{name:(0,l.__)("Use Legacy status based grouping","plugin-groups"),checked:o.legacyGrouping,callback:e=>r("legacyGrouping",e.target.checked)}),(0,n.createElement)(p,{name:(0,l.__)("Enable admin menu","plugin-groups"),checked:o.menuGroups,callback:e=>r("menuGroups",e.target.checked)}),(0,n.createElement)(p,{name:(0,l.__)("Show ungrouped items","plugin-groups"),checked:o.showUngrouped,callback:e=>r("showUngrouped",e.target.checked)}))),!o.legacyGrouping&&(0,n.createElement)("div",{className:"ui-body-sidebar full"},(0,n.createElement)(d,{title:(0,l.__)("Navigation style","plugin-groups")},(0,n.createElement)(kt,t({styleName:(0,l.__)("Legacy","plugin-groups"),className:"subsubsub"},e)),(0,n.createElement)(kt,t({styleName:(0,l.__)("Modern","plugin-groups"),className:"groups-modern"},e)),(0,n.createElement)(kt,t({styleName:(0,l.__)("Dropdown","plugin-groups"),className:"groups-dropdown"},e)))))}function Ct(e){const{params:t,setSiteAccess:o}=e,r=e.sites.map((e=>parseInt(e.blog_id)));return(0,n.createElement)("div",{className:"ui-body"},(0,n.createElement)("div",{className:"ui-body-sidebar"},(0,n.createElement)(d,{title:"Sites with full access"},(0,n.createElement)(p,{name:(0,l.__)("Select All"),bold:!0,callback:e=>o(r,e.target.checked),className:"list-control",checked:e.sites.length===e.sitesEnabled.length}),e.sites.map((t=>{const r=parseInt(t.blog_id);return(0,n.createElement)(p,{name:`${t.domain}${t.path}`,checked:-1<e.sitesEnabled.indexOf(r),callback:e=>o([r],e.target.checked)},e.mainSite===r&&(0,n.createElement)("span",null,(0,l.__)("Main Site","plugin-groups")))})))))}function xt(e){const o="_plgUnsaved",[a,i]=r().useState(e),[s,u]=r().useState(1),d=e=>{window.localStorage.setItem(o,!0),e.groups&&e.groups.constructor===Array&&(e.groups={...e.groups}),i(e)},p=()=>({...a}),g=e=>{d({...a,...e})},h=e=>{m([e])},m=(e,t)=>{const n=p();e.forEach((e=>{if(null===e)return;const o=void 0!==t?!t:n.groups[e].selected;n.groups[e].selected=!o,o&&(delete n.groups[e].open,delete n.groups[e].edit,delete n.groups[e].focus),n.activeGroup=e})),d(n)},f=(e,t)=>{const n=p();e.forEach((e=>{n.groups[e].open=t})),g(n)},v=(e,t,n)=>{const o=p();n||o.groups[e].prevName?n&&(t=o.groups[e].prevName?o.groups[e].prevName:o.groups[e].name,delete o.groups[e].prevName,delete o.groups[e].edit,delete o.groups[e].selected,delete o.groups[e].open):o.groups[e].prevName=o.groups[e].name,o.groups[e].name=t,d(o)},b=(e,t)=>{const n=p();t&&!confirm((0,l._n)("Delete the selected group?","Delete the selected groups",e.length,a.slug))||(e.forEach((e=>{delete n.groups[e]})),d(n))},E=e=>{b([e])},y=e=>{const t="pgxxxxx".replace(/x/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),n={id:t,name:e,plugins:[],keywords:[],temp:!0,selected:!0,edit:!0,focus:!0},o=p();o.groups||(o.groups={}),o.groups[t]=n,d(o)},w=(e,t)=>{const n=p();t.map((t=>{const o=a.groups[e].plugins.indexOf(t);-1<o&&n.groups[e].plugins.splice(o,1)})),d(n)},_=()=>{const e=p(),{groups:t,selectedPresets:n,params:r,sitesEnabled:i,siteID:l}=e,s=JSON.stringify({groups:t,selectedPresets:n,params:r,sitesEnabled:i,siteID:l});e.saving=!0,fetch(a.saveURL,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":a.restNonce},body:s}).then((e=>e.json())).then((e=>{const t=p();t.saved=!0,setTimeout((()=>{const e=p();e.saved=!1,d(e),window.localStorage.removeItem(o)}),3e3),d(t),window.localStorage.removeItem(o)})),d(e)},N=e=>{const t=p();let n=!1;e.forEach((e=>{t.groups[e].edit&&(e=>0<a.groups[e].name.replace(/ /g,"").length)(e)?(delete t.groups[e].edit,t.groups[e].open||delete t.groups[e].selected,delete t.groups[e].focus,delete t.groups[e].temp,delete t.groups[e].prevName):(t.groups[e].edit=!0,n||(t.groups[e].focus=!0,n=!0))})),d(t),k()},S=e=>{N([e])},k=()=>{const e=T();if(e.length){const t=document.querySelector("[data-edit="+e.shift()+"]");t&&t.focus()}},D=(e,t)=>{const n=P(),o=n.indexOf(e),r="n"===t?o+1:o-1;let a=null;return n[r]&&(a=n[r]),a!==e?a:null},C=e=>{const t=[];return Object.keys(a.groups).forEach((n=>{a.groups[n][e]&&t.push(n)})),t},x=()=>C("selected"),T=()=>C("edit"),O=e=>{if("ArrowRight"===e.key)f(x(),!0);else if("ArrowLeft"===e.key)f(x(),!1);else if("ArrowUp"===e.key)e.preventDefault(),e.shiftKey||m(P(),!1),h(D(a.activeGroup,"p"));else if("ArrowDown"===e.key)e.preventDefault(),e.shiftKey||m(P(),!1),h(D(a.activeGroup,"n"));else if("Enter"===e.key&&e.target.dataset.edit)S(e.target.dataset.edit);else if("Enter"===e.key)e.stopPropagation(),e.preventDefault(),N(x());else if("/"===e.key)e.preventDefault(),e.stopPropagation(),y("");else if("Escape"===e.key){const t=e.path[0].dataset.edit;a.groups[t]&&((e=>!!a.groups[e].temp)(t)?E(t):(v(t,"",!0),k()))}else if("Delete"===e.key){const e=x();e.length&&b(e,!0)}else"s"===e.key&&e.metaKey&&(e.preventDefault(),_())},P=()=>a.groups?Object.keys(a.groups):[];r().useEffect((()=>(window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)})));const I={setConfig:d,selectGroup:h,createGroup:y,deleteGroup:E,deleteGroups:b,changeName:v,handleSave:_,editGroup:S,getList:P,addPlugins:(e,t)=>{if(a.groups[e]){const n=p();t.forEach((t=>{-1===a.groups[e].plugins.indexOf(t)&&n.groups[e].plugins.push(t)})),d(n)}},addKeyword:(e,t)=>{const n=p();n.groups[e].keywords.push(t),d(n)},removeKeyword:(e,t)=>{const n=p(),o=n.groups[e].keywords.indexOf(t);n.groups[e].keywords.splice(o,1),d(n)},removePlugin:(e,t)=>{w(e,[t])},openGroup:e=>{if(a.groups[e]){const t=p();t.groups[e].open=!t.groups[e].open,t.groups[e].selected=!0,t.activeGroup=e,g(t)}},selectGroups:m,getSelected:x,handleExport:()=>{const e=JSON.stringify(new Date).replace(/"/g,"-").replace(/:/g,"-").split(".")[0],t=new Blob([JSON.stringify(a.groups)],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download="plugin-groups-export"+e+".json",o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))},handleImport:e=>{const t=new FileReader;t.addEventListener("loadend",(e=>{let t=JSON.parse(e.target.result);if(t){t["plugin-groups-setup"]&&(t=(e=>{const t={};return Object.keys(e.group).map((n=>{const o=e.group[n];t[n]={id:n,name:o.config.group_name,plugins:o.config.plugins?o.config.plugins:[],keywords:o.config.keywords.length?o.config.keywords.split(" "):[]}})),t})(t));const e=p();e.groups=t,d(e)}})),t.readAsText(e.target.files[0])},togglePreset:e=>{const t=p();t.selectedPresets||(t.selectedPresets=[]);const n=t.selectedPresets.indexOf(e);-1===n?t.selectedPresets.push(e):t.selectedPresets.splice(n,1),d(t)},removePlugins:w,navTab:e=>{u(e)},tab:s,setParam:(e,t)=>{const n=p();n.params[e]||(n.params[e]=null),n.params[e]=t,d(n)},setSiteAccess:(e,t)=>{const n=p();e.map((e=>{const o=a.sitesEnabled.indexOf(e);!0===t&&-1===o?n.sitesEnabled.push(e):!1===t&&-1<o&&n.sitesEnabled.splice(o,1)})),i(n)},setOrder:e=>{const t=p();t.groups={},e.forEach((e=>{t.groups[e]=a.groups[e]})),i(t)}};return(0,n.createElement)("div",{className:a.slug},1===s&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c,t({},I,a)),(0,n.createElement)("div",{className:"ui-body"},(0,n.createElement)(_t,t({},a,I)),(0,n.createElement)(wt,t({},a,I)),(0,n.createElement)(Nt,t({},a,I)))),2===s&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c,t({},I,a)),(0,n.createElement)(Dt,t({},I,a))),3===s&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c,t({},I,a)),(0,n.createElement)(Ct,t({},I,a))),0===s&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c,t({},I,a))))}var Tt={init(e){i().render((0,n.createElement)(xt,e),document.getElementById("plg-app"))}};const Ot={init(){window.localStorage.removeItem("_plgUnsaved"),plgData.groups||(plgData.groups={}),plgData.selectedPresets||(plgData.selectedPresets=[]),plgData.activeGroup=!1,Tt.init(plgData)}};window.addEventListener("load",(()=>Ot.init())),window.onbeforeunload=()=>{if(window.localStorage.getItem("_plgUnsaved"))return!1}}();