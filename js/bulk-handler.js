!function(){"use strict";var e=window.wp.i18n;const t={newGroupInput:null,groupSelector:null,init(){document.querySelectorAll('select[name^="action"]').forEach((e=>{e.addEventListener("change",(t=>{this.handleChange(e)}))}))},handleChange(e){this.newGroupInput&&(this.newGroupInput.parentNode.removeChild(this.newGroupInput),this.newGroupInput=null),this.groupSelector&&(this.groupSelector.parentNode.removeChild(this.groupSelector),this.groupSelector=null),"add-to-group"===e.value&&this.addToGroup(e)},addToGroup(e){this.groupSelector||(this.groupSelector=this.makeSelector()),this.groupSelector.addEventListener("change",(()=>{"__new"===this.groupSelector.value?this.newGroup(this.groupSelector):this.newGroupInput&&(e.parentNode.removeChild(this.newGroupInput),this.newGroupInput=null)})),e.parentNode.insertBefore(this.groupSelector,e.nextSibling)},makeSelector(){const t=document.createElement("select");t.name="group_id",plgData.forEach((e=>{const n=document.createElement("option");n.value=e.id,n.innerText=e.name,t.appendChild(n)}));const n=document.createElement("optgroup"),o=document.createElement("option");return n.label="---------",o.value="__new",o.innerText=(0,e.__)("New group","plugin-groups"),n.appendChild(o),t.appendChild(n),t},newGroup(t){this.newGroupInput||(this.newGroupInput=document.createElement("input"),this.newGroupInput.type="text",this.newGroupInput.className="regular-text",this.newGroupInput.placeholder=(0,e.__)("New group name","plugin-groups"),this.newGroupInput.name="new_group_name"),t.parentNode.insertBefore(this.newGroupInput,t.nextSibling),this.newGroupInput.focus()}};window.addEventListener("load",(()=>t.init()))}();